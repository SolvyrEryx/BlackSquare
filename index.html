<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlackSquare</title>
    <meta
      name="description"
      content="A communication channel hidden inside legal play."
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body {
        margin: 0;
        background-color: #030303;
      }
      /* Vertical text utility */
      .vertical-text {
        writing-mode: vertical-rl;
        text-orientation: mixed;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, useScroll, useTransform, AnimatePresence } =
        window.Motion;

      /**
       * PROJECT: BLACKSQUARE
       * UPDATED: Precise GitHub Link / Mobile Environment Warning / UI Refinement
       */

      const MobileWarning = () => {
        const [isVisible, setIsVisible] = useState(false);

        useEffect(() => {
          // Detect mobile view
          const isMobile = window.innerWidth < 768;
          if (isMobile) {
            setIsVisible(true);
            // Auto-close after 4 seconds
            const timer = setTimeout(() => setIsVisible(false), 4000);
            return () => clearTimeout(timer);
          }
        }, []);

        return (
          <AnimatePresence>
            {isVisible && (
              <motion.div
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                exit={{ opacity: 0 }}
                className="fixed inset-0 z-[10000] bg-black flex items-center justify-center px-10 text-center"
              >
                <div className="max-w-xs">
                  <motion.p
                    initial={{ y: 10, opacity: 0 }}
                    animate={{ y: 0, opacity: 1 }}
                    transition={{ delay: 0.2 }}
                    className="text-zinc-100 font-mono text-[10px] uppercase tracking-[0.4em] mb-4"
                  >
                    Environment Warning
                  </motion.p>
                  <motion.p
                    initial={{ y: 10, opacity: 0 }}
                    animate={{ y: 0, opacity: 1 }}
                    transition={{ delay: 0.4 }}
                    className="text-zinc-500 font-light text-sm leading-relaxed"
                  >
                    This signal is engineered for desktop-class interfaces.
                    Experience on mobile may be degraded or incomplete.
                  </motion.p>
                  <motion.div
                    initial={{ scaleX: 0 }}
                    animate={{ scaleX: 1 }}
                    transition={{ duration: 4, ease: "linear" }}
                    className="h-px bg-zinc-800 mt-8 origin-left"
                  />
                </div>
              </motion.div>
            )}
          </AnimatePresence>
        );
      };

      const CustomCursor = () => {
        const [mousePos, setMousePos] = useState({ x: 0, y: 0 });
        const [isHovering, setIsHovering] = useState(false);

        useEffect(() => {
          const handleMouseMove = (e) =>
            setMousePos({ x: e.clientX, y: e.clientY });
          const handleHover = (e) => {
            const target = e.target;
            setIsHovering(
              !!(
                target.tagName === "A" ||
                target.tagName === "BUTTON" ||
                target.closest("a")
              ),
            );
          };

          window.addEventListener("mousemove", handleMouseMove);
          window.addEventListener("mouseover", handleHover);
          return () => {
            window.removeEventListener("mousemove", handleMouseMove);
            window.removeEventListener("mouseover", handleHover);
          };
        }, []);

        return (
          <>
            <motion.div
              className="fixed top-0 left-0 w-4 h-4 border border-zinc-500 rounded-full pointer-events-none z-[9999] hidden md:block"
              animate={{
                x: mousePos.x - 8,
                y: mousePos.y - 8,
                scale: isHovering ? 2 : 1,
                opacity: isHovering ? 0.3 : 0.8,
              }}
              transition={{
                type: "spring",
                damping: 25,
                stiffness: 350,
                mass: 0.5,
              }}
            />
            <motion.div
              className="fixed top-0 left-0 w-1 h-1 bg-white rounded-full pointer-events-none z-[9999] hidden md:block"
              animate={{ x: mousePos.x - 2, y: mousePos.y - 2 }}
              transition={{
                type: "spring",
                damping: 30,
                stiffness: 500,
                mass: 0.2,
              }}
            />
          </>
        );
      };

      const SectionTitle = ({ children, number }) => (
        <div className="mb-10 relative pb-4">
          <motion.span
            initial={{ opacity: 0 }}
            whileInView={{ opacity: 1 }}
            transition={{ duration: 0.4 }}
            className="text-[9px] font-mono text-zinc-600 mb-1 block tracking-[0.5em] uppercase"
          >
            Module // {number}
          </motion.span>
          <motion.h2
            initial={{ opacity: 0, x: -10 }}
            whileInView={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.5, ease: "easeOut" }}
            className="text-3xl font-extralight tracking-tighter text-zinc-100"
          >
            {children}
          </motion.h2>
          <motion.div
            initial={{ scaleX: 0 }}
            whileInView={{ scaleX: 1 }}
            transition={{ duration: 0.6, ease: "easeInOut", delay: 0.2 }}
            style={{ originX: 0 }}
            className="absolute bottom-0 left-0 right-0 h-px bg-zinc-900"
          />
        </div>
      );

      const TechSpec = ({ title, description, technicals }) => (
        <div className="mb-14 group">
          <div className="flex items-baseline gap-4 mb-4">
            <motion.div
              initial={{ width: 0 }}
              whileInView={{ width: 20 }}
              transition={{ duration: 0.4 }}
              className="h-px bg-zinc-700"
            />
            <h3 className="text-[9px] font-mono text-zinc-600 uppercase tracking-[0.3em]">
              {title}
            </h3>
          </div>

          <motion.p
            initial={{ opacity: 0, y: 5 }}
            whileInView={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.5 }}
            className="text-lg text-zinc-300 font-light leading-relaxed max-w-2xl mb-6"
          >
            {description}
          </motion.p>

          {technicals && (
            <motion.div
              initial={{ opacity: 0 }}
              whileInView={{ opacity: 1 }}
              transition={{ duration: 0.5, delay: 0.2 }}
              className="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3 border-t border-zinc-900/40 pt-6"
            >
              {technicals.map((item, i) => (
                <div key={i} className="flex gap-4">
                  <span className="text-[8px] font-mono text-zinc-800 mt-1">
                    [{i.toString().padStart(2, "0")}]
                  </span>
                  <span className="text-[12px] text-zinc-600 font-mono leading-relaxed">
                    {item}
                  </span>
                </div>
              ))}
            </motion.div>
          )}
        </div>
      );

      const App = () => {
        const [scrolled, setScrolled] = useState(false);
        const { scrollYProgress } = useScroll();

        const gridOpacity = useTransform(
          scrollYProgress,
          [0, 1],
          [0.015, 0.035],
        );

        useEffect(() => {
          const handleScroll = () => setScrolled(window.scrollY > 50);
          window.addEventListener("scroll", handleScroll);
          return () => window.removeEventListener("scroll", handleScroll);
        }, []);

        const heroContainer = {
          hidden: { opacity: 0 },
          show: {
            opacity: 1,
            transition: {
              staggerChildren: 0.15,
              delayChildren: 0.3,
            },
          },
        };

        const heroItem = {
          hidden: { opacity: 0, y: 30 },
          show: {
            opacity: 1,
            y: 0,
            transition: { duration: 1, ease: [0.19, 1, 0.22, 1] },
          },
        };

        return (
          <div className="min-h-screen bg-[#030303] text-zinc-400 selection:bg-zinc-100 selection:text-black antialiased cursor-none overflow-x-hidden">
            <CustomCursor />
            <MobileWarning />

            <motion.div
              style={{ opacity: gridOpacity }}
              className="fixed inset-0 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/grid-me.png')]"
            />

            <nav
              className={`fixed top-0 w-full z-50 px-10 py-6 flex justify-between items-start transition-all duration-500 ${scrolled ? "bg-[#030303]/90 backdrop-blur-xl border-b border-zinc-900/50 py-4" : ""}`}
            >
              <div className="flex flex-col">
                <span className="font-mono text-[10px] tracking-[0.5em] text-zinc-100 uppercase">
                  Blacksquare
                </span>
                <span className="font-mono text-[8px] tracking-[0.2em] text-zinc-700 uppercase">
                  Research Grade // V.4.0.1
                </span>
              </div>
              <div className="hidden md:flex flex-col items-end font-mono text-[8px] text-zinc-700 tracking-widest uppercase">
                <motion.span
                  animate={{ opacity: [0.4, 1, 0.4] }}
                  transition={{ duration: 3, repeat: Infinity }}
                >
                  Signal Strength: Nominal
                </motion.span>
                <span>Latent State: Active</span>
              </div>
            </nav>

            <main className="max-w-6xl mx-auto px-10 pt-40">
              {/* HERO */}
              <section className="mb-24 flex flex-col justify-start">
                <motion.div
                  variants={heroContainer}
                  initial="hidden"
                  animate="show"
                  className="flex flex-col gap-2 mb-12"
                >
                  <div className="overflow-hidden">
                    <motion.h1
                      variants={heroItem}
                      className="text-5xl md:text-8xl font-extralight tracking-tighter text-zinc-100 leading-[0.9]"
                    >
                      This is a chess game.
                    </motion.h1>
                  </div>
                  <div className="overflow-hidden">
                    <motion.h1
                      variants={heroItem}
                      className="text-5xl md:text-8xl font-extralight tracking-tighter text-zinc-900 leading-[0.9]"
                    >
                      And also, it isnâ€™t.
                    </motion.h1>
                  </div>
                </motion.div>

                <motion.p
                  initial={{ opacity: 0 }}
                  animate={{ opacity: [0.8, 1, 0.8] }}
                  transition={{
                    duration: 6,
                    repeat: Infinity,
                    ease: "easeInOut",
                  }}
                  className="max-w-md text-base text-zinc-500 font-light leading-relaxed border-l border-zinc-900 pl-6"
                >
                  A communication channel hidden inside legal play. The message
                  exists only for those who know how to read structure, not
                  content.
                </motion.p>
              </section>

              {/* MODULE 01: CONCEPT */}
              <section className="mb-32">
                <SectionTitle number="01">Structural Invisibility</SectionTitle>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-12">
                  <motion.div
                    initial={{ opacity: 0 }}
                    whileInView={{ opacity: 1 }}
                    transition={{ duration: 0.6 }}
                    className="space-y-6 text-xl text-zinc-200 font-light leading-tight"
                  >
                    <p>
                      Encryption is a loud signal. It announces the presence of
                      a secret.
                    </p>
                    <p className="text-zinc-800 uppercase tracking-tighter">
                      BLACKSQUARE is silent.
                    </p>
                  </motion.div>
                  <motion.div
                    initial={{ opacity: 0 }}
                    whileInView={{ opacity: 1 }}
                    transition={{ duration: 0.6, delay: 0.1 }}
                    className="space-y-4 text-zinc-500 font-light text-sm leading-relaxed"
                  >
                    <p>
                      We do not modify files or metadata. Information is encoded
                      into the{" "}
                      <span className="text-zinc-200 italic">
                        choice of legal moves
                      </span>
                      . To any AI system, these are normal games. They are valid
                      PGN files that blend into cultural noise.
                    </p>
                  </motion.div>
                </div>
              </section>

              {/* MODULE 02: ARCHITECTURE */}
              <section className="mb-32">
                <SectionTitle number="02">Architectural Logic</SectionTitle>
                <TechSpec
                  title="Binary Pipeline"
                  description="Input is treated as a raw bitstream, transformed through a rigid pipeline."
                  technicals={[
                    "UTF-8 byte serialization",
                    "Binary bitstream conversion",
                    "Fixed-width bit-header prefix",
                    "Zero-ambiguity padding",
                  ]}
                />
                <TechSpec
                  title="Information Density"
                  description="Each move encodes 3 bits. Pieces are selected to maximize natural playability."
                  technicals={[
                    "2 bits: Piece Type (P/N/B/R)",
                    "1 bit: Destination Square Color",
                    "King/Queen exclusion",
                    "Deterministic density balance",
                  ]}
                />
                <TechSpec
                  title="Deterministic Selection"
                  description="Move selection is verifiable. Every machine produces identical results."
                  technicals={[
                    "Board-state derived indexing",
                    "Deterministic sorting",
                    "Zero-external-randomness",
                    "Identical cross-machine decoding",
                  ]}
                />
                <TechSpec
                  title="Noise Camouflage"
                  description="Noise moves ensure the game looks authentically human."
                  technicals={[
                    "Non-encoding maneuvers",
                    "Tactical realism maintenance",
                    "Pattern detection resistance",
                    "Human-like move distributions",
                  ]}
                />
              </section>

              {/* THREAT MODEL */}
              <section className="mb-32 bg-[#050505] border border-zinc-900/50 p-10 md:p-14">
                <SectionTitle number="03">Threat Model</SectionTitle>
                <div className="max-w-3xl space-y-8">
                  <p className="text-xl text-zinc-100 font-extralight italic leading-tight">
                    "Encrypted data is detectable even when unreadable. This
                    system produces non-encrypted artifacts."
                  </p>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-8 text-[11px] text-zinc-600 font-mono leading-relaxed uppercase tracking-tighter">
                    <div className="space-y-3">
                      <p className="text-zinc-400">Societal Camouflage</p>
                      <p>
                        Chess games are culturally normal. They are archived
                        globally. There is no payload to flag.
                      </p>
                    </div>
                    <div className="space-y-3">
                      <p className="text-zinc-400">Metadata Evasion</p>
                      <p>
                        The behavior itself becomes the carrier. This system
                        survives inspection by imitation.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              {/* PHILOSOPHY */}
              <section className="mb-40 text-center">
                <SectionTitle number="04">Philosophy</SectionTitle>
                <motion.div
                  initial={{ opacity: 0, y: 10 }}
                  whileInView={{ opacity: 1, y: 0 }}
                  transition={{ duration: 0.8 }}
                  className="max-w-2xl mx-auto"
                >
                  <p className="text-3xl font-extralight text-zinc-100 leading-tight mb-8">
                    Detection is not decryption. A known secret that cannot be
                    read is simply a monument to your exclusion.
                  </p>
                  <p className="text-zinc-500 font-light text-sm leading-relaxed mb-10">
                    To find the needle is not to possess the thread. Even if the
                    signal is seen, the structure is immutable, the math is
                    absolute, and your observation is irrelevant.
                  </p>
                </motion.div>
                <div className="font-mono text-[8px] uppercase tracking-[0.4em] text-zinc-800 flex justify-center gap-6">
                  <span>// Math is absolute</span>
                  <span>// Observation is irrelevant</span>
                </div>
              </section>

              {/* CTA */}
              <section className="border-t border-zinc-900 pt-20 pb-16 text-center">
                <motion.div
                  initial={{ opacity: 0 }}
                  whileInView={{ opacity: 1 }}
                  transition={{ duration: 0.5 }}
                >
                  <p className="text-zinc-700 font-mono text-[9px] uppercase tracking-[0.5em] mb-8">
                    System not intended for web-based execution.
                  </p>
                  <a
                    href="https://github.com/SolvyrEryx/BlackSquare"
                    className="group relative inline-flex items-center justify-center px-12 py-5 border border-zinc-900 hover:border-zinc-500 transition-colors duration-500 overflow-hidden"
                  >
                    <div className="absolute inset-0 bg-white translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out" />
                    <span className="relative z-10 font-mono text-[10px] uppercase tracking-[0.5em] text-zinc-500 group-hover:text-black transition-colors duration-300">
                      Access Source
                    </span>
                  </a>
                </motion.div>
              </section>

              <section className="text-center opacity-30 pb-10">
                <motion.div
                  initial={{ opacity: 0 }}
                  whileInView={{ opacity: 1 }}
                  transition={{ delay: 0.2 }}
                  className="font-mono text-[8px] text-zinc-700 uppercase tracking-[0.6em]"
                >
                  // EOT: Transmission Secured
                </motion.div>
              </section>
            </main>

            {/* Persistent Tags */}
            <div className="fixed bottom-8 left-8 pointer-events-none font-mono text-[7px] text-zinc-800 tracking-[0.3em] uppercase vertical-text hidden sm:block">
              B-SQ // 0x424C41434B535155415245
            </div>
            <div className="fixed bottom-8 right-8 pointer-events-none font-mono text-[7px] text-zinc-900 tracking-[0.1em] uppercase hidden sm:block">
              Integrity: Verified // 202X
            </div>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
